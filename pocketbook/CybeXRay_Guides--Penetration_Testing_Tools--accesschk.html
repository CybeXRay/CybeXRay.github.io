<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>accesschk</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>accesschk</h1><br/><strong><h1>accesschk</h1></strong><br /><br /><br />It is a tool to check the <strong>permissions</strong> in a windows system. (Similar to <strong>icacls</strong> -â†’ However, unlike icacls, accesschk is not installed by default)<br /><br /><em>C:\PrivEsc&gt;accesschk.exe<br /><br />AccessChk v4.02 - Check access of files, keys, objects, processes or services<br />Copyright (C) 2006-2007 Mark Russinovich<br />Sysinternals - </em><em><strong>www.sysinternals.com</strong></em><em><br /><br />usage: accesschk [-s][-e][-u][-r][-w][-n][-v][[-k][-p [-f]][-o [-t &lt;object type&gt;]][-c]|[-d]] [username] &lt;file, directory, registry key, process, service, object&gt;<br />   -c     Name is a Windows Service e.g. ssdpsrv. Specify &#39;*&#39; as the<br />          name to show all services and &#39;scmanager&#39; to check the security<br />          of the Service Control Manager<br />   -d     Only process directories or top level key<br />   -e     Only show explicitly set Integrity Levels (Windows Vista only)<br />   -f     Show full process token information including groups and privileges<br />   -k     Name is a Registry key e.g. hklm\software<br />   -n     Show only objects that have no access<br />   -o     Name is an object in the Object Manager namespace (default is root).<br />          Add -t and an object type (e.g. section) to see only objects of a<br />          spefic type<br />   -p     Name is a process name or PID e.g. cmd.exe (specify &#39;*&#39; as the<br />          name to show all processes)<br />   -q     Omit banner<br />   -r     Show only objects that have read access<br />   -s     Recurse<br />   -t     Object type filter e.g. &quot;section&quot;<br />   -u     Suppress errors<br />   -v     Verbose (includes Windows Vista Integrity Level)<br />   -w     Show only objects that have write access<br /><br />If you specify a user or group name and path AccessChk will report the<br />effective permissions for that account; otherwise it will show the effective<br />access for accounts referenced in the security descriptor.<br /><br />By default the path name is interpreted as a file system path (use the<br />&quot;\pipe\&quot; prefix to specify a named pipe path). For each object AccessChk<br />prints R if the account has read access, W for write access and nothing if<br />it has neither. The -v switch has AccessChk dump the specific<br />accesses granted to an account.<br /></em><br /><br /><strong><h2>Examples:</h2></strong><br /><br /><em><h4>To Check Permissions of a service</h4></em><br /><strong>C:\tools\AccessChk&gt; accesschk64.exe /accepteula -qlcv service</strong><br /><strong>Demo:</strong>	C:\tools\AccessChk&gt; accesschk64.exe /accepteula -qlcv thmservice<br /><br /><em><h4>To Check Permissions of a particular user for a particular service</h4></em><br /><strong>C:\PrivEsc\accesschk.exe /accepteula -uwcqv Username ServiceName</strong><br /><strong>Demo:</strong>	C:\PrivEsc\accesschk.exe /accepteula -uwcqv user daclsvc<br /><br /><em><h4>To Check Permissions of a directory/folder</h4></em><br /><strong>C:\PrivEsc\accesschk.exe /accepteula -uwdq &quot;Directory_Path&quot;</strong><br /><strong>Demo:</strong>	C:\PrivEsc\accesschk.exe /accepteula -uwdq &quot;C:\Program Files\Unquoted Path Service\&quot;<br /><br /><em><h4>To Check Permissions of a Regisry</h4></em><br /><strong>C:\PrivEsc\accesschk.exe /accepteula -uvwqk Registry_Name</strong><br /><strong>Demo:</strong>	C:\PrivEsc\accesschk.exe /accepteula -uvwqk HKLM\System\CurrentControlSet\Services\regsvc<br /><br /><em><h4>To Check Permissions of an Executible</h4></em><br /><strong>C:\PrivEsc\accesschk.exe /accepteula -quvw &quot;Executible_Path&quot;</strong><br /><strong>Demo:</strong>	C:\PrivEsc\accesschk.exe /accepteula -quvw &quot;C:\Program Files\File Permissions Service\filepermservice.exe&quot;<br /><strong>Or</strong><br /><strong>C:\PrivEsc\accesschk.exe /accepteula -uvw &quot;Executible_Path&quot;</strong><br /><strong>Demo:</strong>	C:\PrivEsc\accesschk.exe /accepteula -wvu &quot;C:\Program Files\Autorun Program\program.exe&quot;<br /><br /><em><h4>To Check Permissions of an Executible for a particular user</h4></em><br /><strong>C:\PrivEsc\accesschk.exe /accepteula -quvw Username &quot;Executible_Path&quot;</strong><br /><strong>Demo:</strong>	C:\PrivEsc\accesschk.exe /accepteula -quvw user C:\DevTools\CleanUp.ps1<br /><br /><br /><br /><br /></div>
</body>
</html>
