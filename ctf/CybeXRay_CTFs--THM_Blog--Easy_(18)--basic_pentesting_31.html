<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>basic pentesting</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>basic pentesting</h1><br/><p><strong><h1>THM: Basic Pentesting</h1></strong></p><p></p><p><strong><h2>Enumeration</h2></strong></p><p></p><p><strong>Rustscan</strong></p><p><img src="images/31-1.png" alt="images/31-1.png" /></p><p></p><p><strong>Nmap</strong></p><p><img src="images/31-2.png" alt="images/31-2.png" /></p><p></p><p><strong>Samba</strong></p><p><img src="images/31-3.png" alt="images/31-3.png" /></p><p></p><p>Contents of the text file.</p><p><img src="images/31-4.png" alt="images/31-4.png" /></p><p></p><p><strong>Dirsearch</strong></p><p><img src="images/31-5.png" alt="images/31-5.png" /></p><p></p><p><strong>Webpage</strong></p><p><img src="images/31-6.png" alt="images/31-6.png" /></p><p></p><p><img src="images/31-7.png" alt="images/31-7.png" /></p><p></p><p>dev.txt</p><p><img src="images/31-8.png" alt="images/31-8.png" /></p><p>j.txt</p><p><img src="images/31-9.png" alt="images/31-9.png" /></p><p></p><p>We get a message that <strong>struts 2.5.12</strong> is being used.</p><p></p><p><strong>Searchsploit</strong></p><p><img src="images/31-10.png" alt="images/31-10.png" /></p><p></p><p>Upon further research i was unable to access the RCE through the above python exploit or the metasploit strut exploit.</p><p>I decide to bruteforce ssh with the user <strong>jan</strong></p><p></p><p><strong>Hydra</strong></p><p><strong>hydra -l jan -P /usr/share/wordlists/rockyou.txt -vv 10.10.229.183 ssh</strong></p><p></p><p><img src="images/31-11.png" alt="images/31-11.png" /></p><p></p><p><strong>Credentials Found</strong></p><p><strong>Username: Jan</strong></p><p><strong>Password: armando</strong></p><p></p><p></p><p><strong><h2>Foothold</h2></strong></p><p></p><p><strong>SSH</strong></p><p><img src="images/31-12.png" alt="images/31-12.png" /></p><p></p><p>From here we check the /etc/passwd file and found an user named <strong>kay</strong></p><p>We go to his home directory <strong>/home/kay</strong></p><p></p><p><strong><h2>Lateral Privilege Change</h2></strong></p><p></p><p><img src="images/31-13.png" alt="images/31-13.png" /></p><p></p><p>The pass.bak file is accessible by <strong>kay</strong> only</p><p>However, we are currently logged in as <strong>Jan</strong></p><p></p><p></p><p>We search for SSH key files</p><p></p><p><img src="images/31-14.png" alt="images/31-14.png" /></p><p></p><p>Get the complete id_rsa contents into a file. (Say kay_id_rsa)</p><p></p><p><strong>chmod 600 kay_id_rsa</strong></p><p><strong>ssh2john kay_id_rsa &gt; john_ssh_hash</strong></p><p><strong>john --wordlist=/usr/share/wordlists/rockyou.txt john_ssh_hash</strong></p><p></p><p><img src="images/31-15.png" alt="images/31-15.png" /></p><p>We found the Paraphrase for <strong>kay_id_rsa</strong></p><p></p><p><strong>Credentials Found</strong></p><p><strong>Username: kay</strong></p><p><strong>Paraphrase: beeswax</strong></p><p></p><p>We can now login to SSH with the <strong>kay_id_rsa</strong> and the <strong>cracked paraphrase </strong></p><p></p><p><strong>SSH</strong> </p><p><img src="images/31-16.png" alt="images/31-16.png" /></p><p></p><p>We found all the answers of the tryhackme room.</p><p></p><p><strong><h2>Privilege Escalation</h2></strong></p><p>(Note: Not required for any tryhackme question)</p><p></p><p></p><p>We use the found password of kay to check for sudo and get root access.</p><p></p><p><img src="images/31-17.png" alt="images/31-17.png" /></p><p></p><p>Thanks!!</p></div>
</body>
</html>
