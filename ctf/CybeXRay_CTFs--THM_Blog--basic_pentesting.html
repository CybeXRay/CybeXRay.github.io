<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>basic pentesting</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>basic pentesting</h1><br/><strong><h1>THM: Basic Pentesting</h1></strong><br /><br /><strong><h2>Enumeration</h2></strong><br /><br /><strong>Rustscan</strong><br /><img src="images/31-1.png" alt="images/31-1.png" /><br /><br /><strong>Nmap</strong><br /><img src="images/31-2.png" alt="images/31-2.png" /><br /><br /><strong>Samba</strong><br /><img src="images/31-3.png" alt="images/31-3.png" /><br /><br />Contents of the text file.<br /><img src="images/31-4.png" alt="images/31-4.png" /><br /><br /><strong>Dirsearch</strong><br /><img src="images/31-5.png" alt="images/31-5.png" /><br /><br /><strong>Webpage</strong><br /><img src="images/31-6.png" alt="images/31-6.png" /><br /><br /><img src="images/31-7.png" alt="images/31-7.png" /><br /><br />dev.txt<br /><img src="images/31-8.png" alt="images/31-8.png" /><br />j.txt<br /><img src="images/31-9.png" alt="images/31-9.png" /><br /><br />We get a message that <strong>struts 2.5.12</strong> is being used.<br /><br /><strong>Searchsploit</strong><br /><img src="images/31-10.png" alt="images/31-10.png" /><br /><br />Upon further research i was unable to access the RCE through the above python exploit or the metasploit strut exploit.<br />I decide to bruteforce ssh with the user <strong>jan</strong><br /><br /><strong>Hydra</strong><br /><strong>hydra -l jan -P /usr/share/wordlists/rockyou.txt -vv 10.10.229.183 ssh</strong><br /><br /><img src="images/31-11.png" alt="images/31-11.png" /><br /><br /><strong>Credentials Found<br />Username: Jan<br />Password: armando</strong><br /><br /><br /><strong><h2>Foothold</h2></strong><br /><br /><strong>SSH</strong><br /><img src="images/31-12.png" alt="images/31-12.png" /><br /><br />From here we check the /etc/passwd file and found an user named <strong>kay</strong><br />We go to his home directory <strong>/home/kay</strong><br /><br /><strong><h2>Lateral Privilege Change</h2></strong><br /><br /><img src="images/31-13.png" alt="images/31-13.png" /><br /><br />The pass.bak file is accessible by <strong>kay</strong> only<br />However, we are currently logged in as <strong>Jan</strong><br /><br /><br />We search for SSH key files<br /><br /><img src="images/31-14.png" alt="images/31-14.png" /><br /><br />Get the complete id_rsa contents into a file. (Say kay_id_rsa)<br /><br /><strong>chmod 600 kay_id_rsa</strong><br /><strong>ssh2john kay_id_rsa &gt; john_ssh_hash</strong><br /><strong>john --wordlist=/usr/share/wordlists/rockyou.txt john_ssh_hash</strong><br /><br /><img src="images/31-15.png" alt="images/31-15.png" /><br />We found the Paraphrase for <strong>kay_id_rsa</strong><br /><br /><strong>Credentials Found<br />Username: kay<br />Paraphrase: beeswax</strong><br /><br />We can now login to SSH with the <strong>kay_id_rsa</strong> and the <strong>cracked paraphrase </strong><br /><br /><strong>SSH</strong> <br /><img src="images/31-16.png" alt="images/31-16.png" /><br /><br />We found all the answers of the tryhackme room.<br /><br /><strong><h2>Privilege Escalation</h2></strong><br />(Note: Not required for any tryhackme question)<br /><br /><br />We use the found password of kay to check for sudo and get root access.<br /><br /><img src="images/31-17.png" alt="images/31-17.png" /><br /><br />Thanks!!</div>
</body>
</html>
