<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>sql injection (manual)</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>sql injection (manual)</h1><br/>PHP Example:<br /><br />&lt;?php<br />mysql_connect(&quot;localhost&quot;, &quot;db_username&quot;, &quot;db_password&quot;); # Connection to the SQL<br />Database.<br />mysql_select_db(&quot;users&quot;); # Database table where user information is stored.<br />$username=$_POST[&#39;username&#39;]; # User-specified username.<br />$password=$_POST[&#39;password&#39;]; #User-specified password.<br />$sql=&quot;SELECT * FROM users WHERE username=&#39;$username&#39; AND password=&#39;$password&#39;&quot;;<br /># Query for user/pass retrieval from the DB.<br />$result=mysql_query($sql);<br /># Performs query stored in $sql and stores it in $result.<br />$count=mysql_num_rows($result);<br /># Sets the $count variable to the number of rows stored in $result.<br />if ($count==1){<br /># Checks if there&#39;s at least 1 result, and if yes:<br />$_SESSION[&#39;username&#39;] = $username; # Creates a session with the specified $username.<br />$_SESSION[&#39;password&#39;] = $password; # Creates a session with the specified $password.<br />header(&quot;location:home.php&quot;); # Redirect to homepage.}<br />else { # If there&#39;s no singular result of a user/pass combination:<br />header(&quot;location:login.php&quot;);<br /># No redirection, as the login failed in the case the $count variable is not equal to<br />1, HTTP Response code 200 OK.<br />}<br />?&gt;<br /><br /><br />We can gain Foothold by using-----&gt; Username: admin&#39;# <br />As no input validation is made..It will comment out the password area like below. (Putting any password will do)<br /><br /><a href=""><img src="images/20-1.png" alt="images/20-1.png" /></a></div>
</body>
</html>
