<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>ForgeCert</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>ForgeCert</h1><br/><strong><h1>ForgeCert</h1></strong><br /><br />This tool is used to forge domain certifcates.<br /><br />Now that we have the private key and root CA certificate, we can use the <strong>SpectorOps ForgeCert</strong> tool to forge a Client Authenticate certificate for any user we want. The ForgeCert and Rubeus binaries are stored in the C:\Tools\ directory on THMWRK1. Let&#39;s use ForgeCert to generate a new certificate:<br /><br />Link: <strong>https://github.com/GhostPack/ForgeCert</strong> <br /><br /><strong>C:\Tools\ForgeCert\ForgeCert.exe --CaCertPath za-THMDC-CA.pfx --CaCertPassword mimikatz --Subject CN=User --SubjectAltName Administrator@za.tryhackme.loc --NewCertPath fullAdmin.pfx --NewCertPassword Password123</strong><br /><br /><strong>Parameters explained:</strong><br /><br />    <strong>• CaCertPath</strong> - The path to our exported CA certificate.<br />    <strong>• CaCertPassword</strong> - The password used to encrypt the certificate. By default, Mimikatz assigns the password of mimikatz.<br />    <strong>• Subject</strong> - The subject or common name of the certificate. This does not really matter in the context of what we will be using the certificate for.<br />    <strong>• SubjectAltName</strong> - This is the User Principal Name (UPN) of the account we want to impersonate with this certificate. It has to be a legitimate user.<br />    <strong>• NewCertPath</strong> - The path to where ForgeCert will store the generated certificate.<br />    <strong>• NewCertPassword</strong> - Since the certificate will require the private key exported for authentication purposes, we must set a new password used to encrypt it.<br />    <br /><br /><strong>Note:</strong> Use the above in the THMWRK1 machine.<br /><br /><img src="images/361-1.png" alt="images/361-1.png" /><br /><br /><br />We now have our forged certificate. We can use Rubeus to request a TGT using the certificate to verify that the certificate is trusted. We will use the following command:<br /><br /><br /></div>
</body>
</html>
