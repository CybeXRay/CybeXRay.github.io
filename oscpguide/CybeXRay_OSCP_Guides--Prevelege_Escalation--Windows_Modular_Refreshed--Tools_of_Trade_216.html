<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Tools of Trade</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Tools of Trade</h1><br/><p><strong><h1>Tools of Trade</h1></strong></p><p></p><p></p><p></p><p>Several scripts exist to conduct system enumeration in ways similar to the ones seen in the previous task. These tools can shorten the enumeration process time and uncover different potential privilege escalation vectors. However, please remember that automated tools can sometimes miss privilege escalation.</p><p></p><p>Below are a few tools commonly used to identify privilege escalation vectors. Feel free to run them against any of the machines in this room and see if the results match the discussed attack vectors.</p><p></p><p></p><p><strong><h2>A) WinPEAS</h2></strong></p><p></p><p>WinPEAS is a script developed to enumerate the target system to uncover privilege escalation paths. You can find more information about winPEAS and download either the precompiled executable or a .bat script. WinPEAS will run commands similar to the ones listed in the previous task and print their output. The output from winPEAS can be lengthy and sometimes difficult to read. This is why it would be good practice to always redirect the output to a file, as shown below:</p><p></p><p><em>Command Prompt         </em></p><p><strong>C:\&gt; winpeas.exe &gt; outputfile.txt</strong></p><p></p><p>WinPEAS can be downloaded here: <strong>https://github.com/carlospolop/PEASS-ng/tree/master/winPEAS</strong> </p><p></p><p><strong><h2>B) PrivescCheck</h2></strong></p><p></p><p>PrivescCheck is a PowerShell script that searches common privilege escalation on the target system. It provides an alternative to WinPEAS without requiring the execution of a binary file.</p><p></p><p><strong>Reminder: </strong>To run PrivescCheck on the target system, you may need to <strong>bypass</strong> the <strong>execution policy restrictions</strong>. To achieve this, you can use the Set-ExecutionPolicy cmdlet as shown below.</p><p></p><p><em>Powershell    </em>    </p><p><strong>PS C:\&gt; Set-ExecutionPolicy Bypass -Scope process -Force</strong></p><p><strong>PS C:\&gt; . .\PrivescCheck.ps1</strong></p><p><strong>PS C:\&gt; Invoke-PrivescCheck</strong></p><p></p><p>PrivescCheck can be downloaded here: 	<strong>https://github.com/itm4n/PrivescCheck</strong> </p><p></p><p><strong><h2>C) WES-NG: Windows Exploit Suggester - Next Generation</h2></strong></p><p></p><p>Some exploit suggesting scripts (e.g. winPEAS) will require you to upload them to the target system and run them there. This may cause antivirus software to detect and delete them. To avoid making unnecessary noise that can attract attention, you may prefer to use <strong>WES-NG</strong>, which will <strong>run</strong> on your <strong>attacking machine</strong> (e.g. Kali or TryHackMe AttackBox).</p><p></p><p>WES-NG is a Python script that can be found and downloaded here:	<strong>https://github.com/bitsadmin/wesng</strong> </p><p></p><p>Once installed, and before using it, type the <strong>wes.py --update</strong> command to update the database. The script will refer to the database it creates to check for missing patches that can result in a vulnerability you can use to elevate your privileges on the target system.</p><p></p><p>To <strong>use</strong> the script, you will need to run the <strong>systeminfo</strong> command on the <strong>target system</strong>. Do not forget to <strong>direct</strong> the <strong>output</strong> to a <strong>.txt file</strong> you will need to <strong>move</strong> to your <strong>attacking machine</strong>.</p><p></p><p>Once this is done, wes.py can be run as follows;</p><p></p><p><em>Kali Linux</em></p><p><strong>wes.py systeminfo.txt</strong></p><p></p><p><strong><h2>D) Metasploit</h2></strong></p><p></p><p>If you already have a <strong>Meterpreter</strong> shell on the target system, you can use the <strong>multi/recon/local_exploit_suggester</strong> module to list vulnerabilities that may affect the target system and allow you to elevate your privileges on the target system.</p><p></p><p></p><p><strong><h2>E) Some Script Names</h2></strong></p><p></p><p>winPEASany.exe</p><p>Seatbelt.exe</p><p>PowerUp.ps1</p><p>SharpUp.exe</p><p></p><p></p><p><strong><h2>END</h2></strong></p></div>
</body>
</html>
