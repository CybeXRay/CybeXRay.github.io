<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Common C2 Frameworks</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Common C2 Frameworks</h1><br/><p><strong><h1>Common C2 Frameworks</h1></strong></p><p></p><p>Throughout your journey, you may encounter many different C2 Frameworks; we will discuss a few popular C2 Frameworks that are widely used by Red Teamers and Adversaries alike. We will be dividing this into two sections:</p><p></p><p>    <strong>• </strong>Free</p><p>    <strong>• </strong>Premium/Paid</p><p></p><p>You may ask some questions like “Why would I use a premium or paid C2 framework?”, and this is an excellent question. Premium/Paid C2 frameworks usually are less likely to be detected by Anti-Virus vendors. This is not to say that it&#39;s impossible to be detected, just that open-source C2 projects are generally well understood, and signatures can be easily be developed.</p><p></p><p>Usually, premium C2 frameworks generally have more advanced post-exploitation modules, pivoting features, and even feature requests that open-source software developers may sometimes not fulfill. For example, one feature Cobalt Strike offers that most other C2 frameworks do not is the ability to open a VPN tunnel from a beacon. This can be a fantastic feature if a Proxy does not work well in your specific situation. You must do your research to find out what will work best for your team.</p><p><strong><span style="text-decoration:underline;"></span></strong></p><p><strong><span style="text-decoration:underline;"></span></strong><strong><h3>Free C2 Frameworks</h3></strong></p><p></p><p></p><p><strong><span style="text-decoration:underline;">Metasploit</span></strong></p><p></p><p>The Metasploit Framework, developed and maintained by Rapid7, is one of the most popular Exploitation and Post Exploitation frameworks (C2) that is publicly available and is installed on most penetration testing distributions.</p><p></p><p>Link: <strong>https://www.metasploit.com/</strong> </p><p></p><p></p><p><strong><span style="text-decoration:underline;">Armitage</span></strong></p><p></p><p>Armitage is an extension of the Metasploit Framework - it adds a Graphical user interface and is written in Java, and is incredibly similar to Cobalt Strike. This is because they were both developed by Raphael Mudge. Armitage offers an easy way to enumerate and visualize all of your targets. Aside from looking a lot like Cobalt Strike, it even offers some unique features. One of the most popular can be found in the “Attacks” menu; This feature is known as the Hail Mary attack, which attempts to run all exploits for the services running on a specific workstation. Armitage really is “Fast and Easy Hacking”.</p><p></p><p>Link: <strong>https://web.archive.org/web/20211006153158/http://www.fastandeasyhacking.com/</strong> </p><p></p><p></p><p><strong><span style="text-decoration:underline;">Powershell Empire/Starkiller</span></strong></p><p></p><p><strong>Powershell Empire</strong> and <strong>Starkiller</strong> is another incredibly popular C2 originally created by Harmjoy, Sixdub, and Enigma0x3 from Veris Group. Currently, the project has been discontinued and has been picked up by the BC Security team (Cx01N, Hubbl3, and _Vinnybod). Empire features agents written in various languages compatible with multiple platforms, making it an incredibly versatile C2. For more information on Empire, we recommend you take a look at the <strong>Powershell</strong> <strong>Empire</strong> room.</p><p></p><p>Link: <strong>https://bc-security.gitbook.io/empire-wiki/</strong> </p><p>Link: <strong>https://github.com/BC-SECURITY/Starkiller</strong> </p><p>Link: <strong>https://tryhackme.com/room/rppsempire</strong> </p><p></p><p></p><p><strong><span style="text-decoration:underline;">Covenant</span></strong></p><p></p><p>Covenant by Ryan Cobb is the last free C2 Framework we will be covering - By far, it is one of the most unique C2 Frameworks being written in C#. Unlike Metasploit/Armitage, It’s primarily used for post-exploitation and lateral movement with HTTP, HTTPS, and SMB listeners with highly customizable agents.</p><p></p><p>Link: <strong>https://github.com/cobbr/Covenant</strong> </p><p></p><p></p><p><strong><span style="text-decoration:underline;">Sliver</span></strong></p><p></p><p>Sliver by Bishop Fox is an advanced, highly customizable multi-user, CLI-based C2 framework. Sliver is written in Go, which makes reverse engineering the C2 &quot;implants&quot; incredibly difficult. It supports various protocols for C2 communications like WireGuard, mTLS, HTTP(S), DNS, and much more. Additionally, it supports BOF files for additional functionality, DNS Canary Domains for masking C2 communications, automatic Let&#39;s Encrypt certificate generation for HTTPS beacons, and much more.  </p><p></p><p>Link: <strong>https://github.com/BishopFox/sliver</strong> </p><p></p><p></p><p></p><p><strong><h3>Paid C2 Frameworks</h3></strong></p><p></p><p><strong><span style="text-decoration:underline;">Cobalt Strike</span></strong></p><p></p><p>Cobalt Strike by Help Systems (Formerly created by Raphael Mudge) is arguably one of the most famous Command and Control frameworks next to Metasploit. Much like Artimage, it is written in Java and designed to be as flexible as possible. For more information, see Cobalt Strike’s <strong>Video Training Page</strong>. It offers additional insight into both Red Team Operations and the Framework by Raphael Mudge himself.</p><p></p><p>Link: <strong>https://www.cobaltstrike.com/</strong> </p><p>Link: <strong>https://www.youtube.com/playlist?list=PLcjpg2ik7YT6H5l9Jx-1ooRYpfvznAInJ</strong> </p><p></p><p></p><p><strong><span style="text-decoration:underline;">Brute Ratel</span></strong></p><p></p><p>Brute Ratel by Chetan Nayak or Paranoid Ninja is a Command and Control framework marketed as a “Customizable Command and Control Center” or “C4” framework that provides a true adversary simulation-like experience with being a unique C2 framework. For more information about the Framework, the author has provided a Video Training Page that demonstrates many of the capabilities within the framework.</p><p></p><p>Link: <strong>https://bruteratel.com/</strong> </p><p>Link: <strong>https://bruteratel.com/tabs/tutorials/</strong> </p><p></p><p></p><p><strong><h3>Other C2 Frameworks</h3></strong></p><p></p><p>For a more comprehensive list of C2 Frameworks and their capabilities, check out the <strong>“C2 Matrix”</strong>, a project maintained by Jorge Orchilles and Bryson Bort. It has a far more comprehensive list of almost all C2 Frameworks that are currently available. We highly recommend that after this room, you go check it out and explore some of the other C2 Frameworks that were not discussed in this room. </p><p></p><p></p><p><strong><h3>Miscellaneous</h3></strong></p><p></p><p><strong>Setting Up Armitage:</strong></p><p></p><p>Follow the Room&#39;s Task 4 for Github Based Manual Installation.</p><p>However, we can install in Kali Linux using <strong>apt install armitage</strong></p><p></p><p>Binaries that will be used: <strong>teamserver</strong> &amp; <strong>armitage</strong></p><p></p><p>1. Once Installtion is complete, Start the Postgresql service</p><p></p><p><strong>systemctl start postgresql &amp;&amp; systemctl status postgresql</strong></p><p></p><p>2. Initialize the metasploit database.</p><p>	In the room, it is asked to initialize the database using non-root user. However, this doesn&#39;t works.</p><p>	Thus as root run</p><p>	</p><p><strong>	msfdb delete</strong></p><p><strong>	msfdb init</strong></p><p>	</p><p>3. Start Teamserver:</p><p>	</p><p>	teamserver 127.0.0.2 Passw0rd</p><p>	</p><p><strong>	Note:</strong> It is recommended to use internal IP for C2 server.	</p><p>	<img src="images/378-1.png" alt="images/378-1.png" /></p><p>		</p><p>	</p><p>4. Start Armitage and connect with the details provided in the teamserver interface.</p><p>	</p><p>	<img src="images/378-2.png" alt="images/378-2.png" /></p><p></p><p>6. Finally Enter a Nickname.</p><p></p><p></p><p><strong>Note: </strong>When operating a C2  Framework, you never want to expose the management interface publicly;  You should always listen on a local interface, never a public-facing  one. This complicates access for fellow operators. Fortunately, there is  an easy solution for this. For operators to gain access to the server,  you should create a new user account for them and enable SSH access on  the server, and they will be able to SSH port forward TCP/55553.   Armitage <strong>explicitly denies</strong> users listening on 127.0.0.1; this is because it is essentially a shared Metasploit server with a &quot;Deconfliction Server&quot; that when multiple users are connecting to the server, you&#39;re not seeing everything that your other users are seeing. With Armitage, you must listen on your tun0/eth0 IP Address.</p></div>
</body>
</html>
