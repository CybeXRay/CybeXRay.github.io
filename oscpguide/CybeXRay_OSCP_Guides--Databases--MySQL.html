<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>MySQL</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>MySQL</h1><br/><strong><h1>MySQL</h1></strong><br /><br /><br /><strong><h3>Enumeration Using Client</h3></strong><br /><br />You will want to have MySQL installed on your system to connect to the remote MySQL server. In case this isn&#39;t already installed, you can install it using <strong>sudo apt install default-mysql-client</strong><br /><br /><strong><span style="text-decoration:underline;">To Login without Password:</span></strong><br /><br /><strong>mysql -h 10.10.213.240 -u root</strong><br /><br /><br /><strong><span style="text-decoration:underline;">To Login with Password:</span></strong><br /><br /><strong>mysql -h 10.10.213.240 -u root -p</strong><br /><br /><br /><strong><span style="text-decoration:underline;">Essential Navigation Commands:</span></strong><br /><br />SELECT versions()<br />SHOW databases; 							: Prints out the databases we can access.<br />USE {database_name}; 				: Set to use the database named {database_name}.<br />SHOW tables; 								: Prints out the available tables inside the currentdatabase.<br />SELECT * FROM {table_name};	: Prints out all the data from the table {table_name}.<br /><br /><br /><strong><h2>Enumerating Using Metasploit</h2></strong><br /><br /><strong>auxiliary/admin/mysql/mysql_sql</strong><br /><br /><img src="images/253-1.png" alt="images/253-1.png" /><br /><br />We can try other commands in the <strong>SQL</strong> option.<br /><br /><strong><span style="text-decoration:underline;">Schema Dump</span></strong><br /><br /><strong>auxiliary/scanner/mysql/mysql_schemadump</strong><br /><img src="images/253-2.png" alt="images/253-2.png" /><br /><br /><br />Once we run it, it outputs the schema of all the databases.<br /><img src="images/253-3.png" alt="images/253-3.png" /><br /><br /><br /><strong><span style="text-decoration:underline;">Hashdump</span></strong><br /><br /><strong>auxiliary/scanner/mysql/mysql_hashdump</strong><br /><img src="images/253-4.png" alt="images/253-4.png" /><br /><br /><br /><strong><h2>Alternative Enumeration</h2></strong><br /><br />As with the previous task, it&#39;s worth noting that everything we will be doing using Metasploit can also be done either manually or with a set of non-Metasploit tools such as <strong>nmap&#39;s</strong> <strong>mysql-enum scrip</strong>t: https://nmap.org/nsedoc/scripts/mysql-enum.html or https://www.exploit-db.com/exploits/23081. I recommend that after you complete this room, you go back and attempt it manually to make sure you understand the process that is being used to display the information you acquire. <br /><br /><strong>Version</strong><br />nmap --script=mysql-info.nse 10.10.213.240<br /><img src="images/253-5.png" alt="images/253-5.png" /><br /><br /><strong>Databases (Using Script Args)</strong><br />nmap --script=mysql-databases.nse --script-args &#39;mysqluser=root,mysqlpass=&quot;password&quot;&#39; 10.10.213.240<br /><img src="images/253-6.png" alt="images/253-6.png" /><br /><br /><strong><h3>Running SQL Queries</h3></strong><br />nmap -p 3306 10.10.213.240 --script mysql-query --script-args=&#39;query=&quot;select version()&quot;,username=root,password=password&#39;<br /><img src="images/253-7.png" alt="images/253-7.png" /></div>
</body>
</html>
