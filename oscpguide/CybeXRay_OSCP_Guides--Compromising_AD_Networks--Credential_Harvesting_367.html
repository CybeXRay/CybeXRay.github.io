<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Credential Harvesting</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Credential Harvesting</h1><br/><p><strong><h1>Credential Harvesting</h1></strong></p><p></p><p>This room discusses the fundamental knowledge for red teamers taking advantage of obtained credentials to perform Lateral Movement and access resources within the AD environment. We will be showing how to obtain, reuse, and impersonate user credentials. </p><p></p><p>Credential harvesting consists of techniques for obtaining credentials like login information, account names, and passwords. It is a technique of extracting credential information from a system in various locations such as clear-text files, registry, memory dumping, etc. </p><p></p><p>As a red teamer, gaining access to legitimate credentials has benefits:</p><p></p><p>    • It can give access to systems (Lateral Movement).</p><p>    • It makes it harder to detect our actions.</p><p>    • It provides the opportunity to create and manage accounts to help achieve the end goals of a red team engagement.</p><p>    </p><p></p><p><strong><h3>Learning Objectives</h3></strong></p><p></p><p>    • Understand the method of extracting credentials from local windows (SAM database)</p><p>    • Learn how to access Windows memory and dump clear-text passwords and authentication tickets locally and remotely.</p><p>    • Introduction to Windows Credentials Manager and how to extract credentials.</p><p>    • Learn methods of extracting credentials for Domain Controller</p><p>    • Enumerate the Local Administrator Password Solution (LAPS) feature.</p><p>    • Introduction to AD attacks that lead to obtaining credentials.</p><p>    </p><p></p><p><strong>Credentials Harvesting</strong> is a term for gaining access to user and system credentials. It is a technique to look for or steal stored credentials, including network sniffing, where an attacker captures transmitted credentials. </p><p></p><p>Credentials can be found in a variety of different forms, such as:</p><p></p><p>    • Accounts details (usernames and passwords)</p><p>    • Hashes that include NTLM hashes, etc.</p><p>    • Authentication Tickets: Tickets Granting Ticket (TGT), Ticket Granting Server (TGS)</p><p>    • Any information that helps login into a system (private keys, etc.)</p><p></p><p>Generally speaking, there are two types of credential harvesting: <strong>external</strong> and <strong>internal</strong>. External credential harvesting most likely involves phishing emails and other techniques to trick a user into entering his username and password. If you want to learn more about phishing emails, we suggest trying the <strong>THM Phishing room</strong>. Obtaining credentials through the internal network uses different approaches.</p><p></p><p><strong>In this room</strong>, the focus will be on harvesting credentials from an <strong>internal perspective </strong>where a threat actor has already compromised a system and gained initial access. </p><p></p><p>We have provided a Windows Server 2019 configured as a Domain Controller. To follow the content discussed in this room, deploy the machine and move on to the next task.</p><p></p><p>You can access the machine in-browser or through RDP using the credentials below.</p><p></p><p><strong>Machine IP: 10.10.209.28            Username: thm         Password: Passw0rd! </strong></p></div>
</body>
</html>
