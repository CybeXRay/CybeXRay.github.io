<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Command, Control & Conquer</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Command, Control & Conquer</h1><br/><p><strong><h1>Sample Exploit</h1></strong></p><p></p><p><strong><h3>Host Enumeration with Armitage</h3></strong></p><p></p><p>Before letting you go off on your own, we&#39;re going to demonstrate how to exploit a sample Virtual Machine. First, we will execute a port scan within Armitage by going to the &quot;Hosts&quot; section, hovering over &quot;Nmap Scan&quot;, and selecting &quot;Quick Scan&quot;.</p><p></p><p><img src="images/381-1.png" alt="images/381-1.png" /></p><p></p><p>After selecting &quot;Quick scan&quot;, a new option will pop up; this will prompt you to enter the IP Address range you would like to scan. You should enter the IP Address of the deployed Virtual machine in this box.</p><p></p><p><img src="images/381-2.png" alt="images/381-2.png" /></p><p></p><p>After pressing &quot;Ok&quot;, and waiting a moment or two, you should see a new tab open up called &quot;nmap&quot; and a new machine display in the &quot;Workspace&quot; window. In the &quot;nmap&quot; tab, you will see the raw scan results.</p><p></p><p><img src="images/381-3.png" alt="images/381-3.png" /></p><p></p><p>Now that you have learned how to execute a basic port scan, try to execute various other scans against the target and see what additional information you may retrieve from a host.</p><p></p><p><strong>Hint:</strong> A Comprehensive Scan will grab banners, enumerate software versions, enumerate OS versions, and much more!</p><p></p><p></p><p><strong><h3>Exploitation with Armitage</h3></strong></p><p></p><p>Next up, we&#39;re going to show off exploitation with Armitage; our victim in our example is a Windows 7 machine (more specifically, Blue). This machine is vulnerable to the classic exploit &quot;Eternal  Blue&quot;.  To find this, we will focus on the far right tab with folders, we will expand the &quot;Exploit&quot; dropdown, then find the &quot;Windows&quot; dropdown, then the &quot;SMB&quot; dropdown, then you will see all of the exploits.</p><p></p><p><img src="images/381-4.png" alt="images/381-4.png" /></p><p></p><p>Next up, you can double click your exploit of choice, <strong>or</strong> drag and drop the exploit onto the host, and a new window will open up. Clicking &quot;launch&quot; will fire off the exploit. </p><p></p><p><img src="images/381-5.png" alt="images/381-5.png" /></p><p></p><p>After clicking &quot;Launch&quot;, you will notice a new &quot;Exploit&quot; tab open up. Armitage will run all of the regular checks that Metasploit normally does. In the case of Eternal Blue, it ran the standard check script followed by the exploit script until it got a successful shell. It&#39;s worth noting that by default in this Exploit, it chose a Bind shell. Make sure you fully read the exploit information and options to see if a Bind Shell or a Reverse Shell is an option.</p><p></p><p><img src="images/381-6.png" alt="images/381-6.png" /></p><p></p><p>After you receive your shell, right-click on the host and select <strong>&quot;Interact&quot;</strong>. This will open a standard shell you&#39;re familiar with. In order to get a Meterpreter shell, we recommend that you run the multi/manage/shell_to_meterpreter module.</p><p></p><p><img src="images/381-7.png" alt="images/381-7.png" /></p><p></p><p>Thus, we have a shell now.</p></div>
</body>
</html>
