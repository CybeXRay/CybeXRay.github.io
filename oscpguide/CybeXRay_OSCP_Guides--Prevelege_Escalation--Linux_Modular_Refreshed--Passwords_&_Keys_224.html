<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Passwords & Keys</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Passwords & Keys</h1><br/><p><strong><h1>Passwords &amp; Keys</h1></strong></p><p></p><p></p><p></p><p><strong><h2>A) History Files</h2></strong></p><p></p><p>If a user accidentally types their password on the command line instead of into a password prompt, it may get recorded in a history file.</p><p></p><p>View the contents of all the hidden history files in the user&#39;s home directory:</p><p></p><p><strong>cat ~/.*history | less</strong></p><p></p><p>Note that the user has tried to connect to a MySQL server at some point, using the &quot;root&quot; username and a password submitted via the command line. Note that there is no space between the -p option and the password!</p><p></p><p>Switch to the root user, using the password:</p><p></p><p><strong>su root</strong></p><p></p><p>Remember to exit out of the root shell before continuing!</p><p></p><p></p><p></p><p><strong><h2>B) Config Files</h2></strong></p><p></p><p>Config files often contain passwords in plaintext or other reversible formats.</p><p></p><p>List the contents of the user&#39;s home directory:</p><p></p><p><strong>ls /home/user</strong></p><p></p><p>Note the presence of a myvpn.ovpn config file. View the contents of the file:</p><p></p><p><strong>cat /home/user/myvpn.ovpn</strong></p><p></p><p>The file should contain a reference to another location where the root user&#39;s credentials can be found. Switch to the root user, using the credentials:</p><p></p><p><strong>su root</strong></p><p></p><p>Remember to exit out of the root shell before continuing!</p><p></p><p></p><p></p><p><strong><h2>C) SSH Keys</h2></strong></p><p></p><p>Sometimes users make backups of important files but fail to secure them with the correct permissions.</p><p></p><p>Look for hidden files &amp; directories in the system root:</p><p></p><p><strong>ls -la /</strong></p><p></p><p>Note that there appears to be a hidden directory called .ssh. View the contents of the directory:</p><p></p><p><strong>ls -l /.ssh</strong></p><p></p><p>Note that there is a world-readable file called root_key. Further inspection of this file should indicate it is a private SSH key. The name of the file suggests it is for the root user.</p><p></p><p>Copy the key over to your Kali box (it&#39;s easier to just view the contents of the root_key file and copy/paste the key) and give it the correct permissions, otherwise your SSH client will refuse to use it:</p><p></p><p><strong>chmod 600 root_key</strong></p><p></p><p>Use the key to login to the Debian VM as the root account:</p><p></p><p><strong>ssh -i root_key root@10.10.118.8</strong></p><p></p><p>Remember to exit out of the root shell before continuing!</p><p></p><p></p><p><strong><h2>END</h2></strong></p></div>
</body>
</html>
