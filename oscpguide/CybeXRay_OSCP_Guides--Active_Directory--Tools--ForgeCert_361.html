<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>ForgeCert</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>ForgeCert</h1><br/><p><strong><h1>ForgeCert</h1></strong></p><p></p><p>This tool is used to forge domain certifcates.</p><p></p><p>Now that we have the private key and root CA certificate, we can use the <strong>SpectorOps ForgeCert</strong> tool to forge a Client Authenticate certificate for any user we want. The ForgeCert and Rubeus binaries are stored in the C:\Tools\ directory on THMWRK1. Let&#39;s use ForgeCert to generate a new certificate:</p><p></p><p>Link: <strong>https://github.com/GhostPack/ForgeCert</strong> </p><p></p><p><strong>C:\Tools\ForgeCert\ForgeCert.exe --CaCertPath za-THMDC-CA.pfx --CaCertPassword mimikatz --Subject CN=User --SubjectAltName Administrator@za.tryhackme.loc --NewCertPath fullAdmin.pfx --NewCertPassword Password123</strong></p><p></p><p><strong>Parameters explained:</strong></p><p></p><p>    <strong>• CaCertPath</strong> - The path to our exported CA certificate.</p><p>    <strong>• CaCertPassword</strong> - The password used to encrypt the certificate. By default, Mimikatz assigns the password of mimikatz.</p><p>    <strong>• Subject</strong> - The subject or common name of the certificate. This does not really matter in the context of what we will be using the certificate for.</p><p>    <strong>• SubjectAltName</strong> - This is the User Principal Name (UPN) of the account we want to impersonate with this certificate. It has to be a legitimate user.</p><p>    <strong>• NewCertPath</strong> - The path to where ForgeCert will store the generated certificate.</p><p>    <strong>• NewCertPassword</strong> - Since the certificate will require the private key exported for authentication purposes, we must set a new password used to encrypt it.</p><p>    </p><p></p><p><strong>Note:</strong> Use the above in the THMWRK1 machine.</p><p></p><p><img src="images/361-1.png" alt="images/361-1.png" /></p><p></p><p></p><p>We now have our forged certificate. We can use Rubeus to request a TGT using the certificate to verify that the certificate is trusted. We will use the following command:</p><p></p><p></p></div>
</body>
</html>
