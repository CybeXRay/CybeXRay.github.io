<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>accesschk</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>accesschk</h1><br/><p><strong><h1>accesschk</h1></strong></p><p></p><p></p><p>It is a tool to check the <strong>permissions</strong> in a windows system. (Similar to <strong>icacls</strong> -â†’ However, unlike icacls, accesschk is not installed by default)</p><p></p><p><em>C:\PrivEsc&gt;accesschk.exe</em></p><p><em></em></p><p><em>AccessChk v4.02 - Check access of files, keys, objects, processes or services</em></p><p><em>Copyright (C) 2006-2007 Mark Russinovich</em></p><p><em>Sysinternals - </em><em><strong>www.sysinternals.com</strong></em><em></em></p><p><em></em></p><p><em>usage: accesschk [-s][-e][-u][-r][-w][-n][-v][[-k][-p [-f]][-o [-t &lt;object type&gt;]][-c]|[-d]] [username] &lt;file, directory, registry key, process, service, object&gt;</em></p><p><em>   -c     Name is a Windows Service e.g. ssdpsrv. Specify &#39;*&#39; as the</em></p><p><em>          name to show all services and &#39;scmanager&#39; to check the security</em></p><p><em>          of the Service Control Manager</em></p><p><em>   -d     Only process directories or top level key</em></p><p><em>   -e     Only show explicitly set Integrity Levels (Windows Vista only)</em></p><p><em>   -f     Show full process token information including groups and privileges</em></p><p><em>   -k     Name is a Registry key e.g. hklm\software</em></p><p><em>   -n     Show only objects that have no access</em></p><p><em>   -o     Name is an object in the Object Manager namespace (default is root).</em></p><p><em>          Add -t and an object type (e.g. section) to see only objects of a</em></p><p><em>          spefic type</em></p><p><em>   -p     Name is a process name or PID e.g. cmd.exe (specify &#39;*&#39; as the</em></p><p><em>          name to show all processes)</em></p><p><em>   -q     Omit banner</em></p><p><em>   -r     Show only objects that have read access</em></p><p><em>   -s     Recurse</em></p><p><em>   -t     Object type filter e.g. &quot;section&quot;</em></p><p><em>   -u     Suppress errors</em></p><p><em>   -v     Verbose (includes Windows Vista Integrity Level)</em></p><p><em>   -w     Show only objects that have write access</em></p><p><em></em></p><p><em>If you specify a user or group name and path AccessChk will report the</em></p><p><em>effective permissions for that account; otherwise it will show the effective</em></p><p><em>access for accounts referenced in the security descriptor.</em></p><p><em></em></p><p><em>By default the path name is interpreted as a file system path (use the</em></p><p><em>&quot;\pipe\&quot; prefix to specify a named pipe path). For each object AccessChk</em></p><p><em>prints R if the account has read access, W for write access and nothing if</em></p><p><em>it has neither. The -v switch has AccessChk dump the specific</em></p><p><em>accesses granted to an account.</em></p><p><em></em></p><p></p><p><strong><h2>Examples:</h2></strong></p><p></p><p><em><h4>To Check Permissions of a service</h4></em></p><p><strong>C:\tools\AccessChk&gt; accesschk64.exe /accepteula -qlcv service</strong></p><p><strong>Demo:</strong>	C:\tools\AccessChk&gt; accesschk64.exe /accepteula -qlcv thmservice</p><p></p><p><em><h4>To Check Permissions of a particular user for a particular service</h4></em></p><p><strong>C:\PrivEsc\accesschk.exe /accepteula -uwcqv Username ServiceName</strong></p><p><strong>Demo:</strong>	C:\PrivEsc\accesschk.exe /accepteula -uwcqv user daclsvc</p><p></p><p><em><h4>To Check Permissions of a directory/folder</h4></em></p><p><strong>C:\PrivEsc\accesschk.exe /accepteula -uwdq &quot;Directory_Path&quot;</strong></p><p><strong>Demo:</strong>	C:\PrivEsc\accesschk.exe /accepteula -uwdq &quot;C:\Program Files\Unquoted Path Service\&quot;</p><p></p><p><em><h4>To Check Permissions of a Regisry</h4></em></p><p><strong>C:\PrivEsc\accesschk.exe /accepteula -uvwqk Registry_Name</strong></p><p><strong>Demo:</strong>	C:\PrivEsc\accesschk.exe /accepteula -uvwqk HKLM\System\CurrentControlSet\Services\regsvc</p><p></p><p><em><h4>To Check Permissions of an Executible</h4></em></p><p><strong>C:\PrivEsc\accesschk.exe /accepteula -quvw &quot;Executible_Path&quot;</strong></p><p><strong>Demo:</strong>	C:\PrivEsc\accesschk.exe /accepteula -quvw &quot;C:\Program Files\File Permissions Service\filepermservice.exe&quot;</p><p><strong>Or</strong></p><p><strong>C:\PrivEsc\accesschk.exe /accepteula -uvw &quot;Executible_Path&quot;</strong></p><p><strong>Demo:</strong>	C:\PrivEsc\accesschk.exe /accepteula -wvu &quot;C:\Program Files\Autorun Program\program.exe&quot;</p><p></p><p><em><h4>To Check Permissions of an Executible for a particular user</h4></em></p><p><strong>C:\PrivEsc\accesschk.exe /accepteula -quvw Username &quot;Executible_Path&quot;</strong></p><p><strong>Demo:</strong>	C:\PrivEsc\accesschk.exe /accepteula -quvw user C:\DevTools\CleanUp.ps1</p><p></p><p></p><p></p><p></p></div>
</body>
</html>
